ROADMAP
Remove split between PRG and CHR registers.
Fix remaining issue with apu_test DMC basics.
Remove GetSpritePatternHack in ppu.rs.
Verify when the IRQ flag is supposed to be cleared. An update to the location of ClearIrq caused the apu_test jitter to have a different result.
       See newoutput: E24C  AND #$40                        A:10 X:00 Y:00 S:FD P:nv--dIzc V:242 H:117 Fr:4 Cycle:1

Wide pixels.
Move nestest over to new formatting system.
Disable OAMDATA writes (other than address increment) during rendering
Battletoads
Work out priorities for WorkRam vs registers. Why does WorkRam need to be explicitly written to by each mapper?
Move CPU bus into CpuMemory
Audio
Rename CycleAction to StepAction.
Bus Conflicts
Don't display bottom tiles of screen by default (see Aladdin junk tiles)
Separate attribute table from name table?
Proper encapsulation for PPU registers
Improve cycle accuracy of undocumented instructions
Open Bus for joysticks.
Other input devices.
Auto-mirror undersized CHR (for mapper 99 and maybe others).

Simplest mappers: 0, 2, 3, 7, 11, 66, 87
Japan mapper order: 0, 87, 3, 184, 185, 2, 206, 75, 66, 94, 140, 34, 180, 95, 152, 1...
US mapper order: 0, 66, 3, 2, 1, 34, 206, 9, 7, 4, 68, 158, 11...


FANCY NICE-TO-HAVES
APU frequency correction

UNTESTED
(Nothing known, but there is plenty)

BUGS
Holding down the arrow keys doesn't generate input quickly enough.
Gracefully handle bad CHR size? ((( Argus (J) [hM03][o2].nes ))) ((( Atlantis no Nazo (J) [hM03][b3].nes )))
Gracefully handle bad PRG size? ((( Boy and His Blob, A - Trouble on Blobolonia (U) [o5].nes )))
(Low priority) What should happen when BankIndex > bank_count when bank_count isn't a power of 2? Open bus?
Marble Madness: Bank-switching mid-scanline isn't working, text doesn't render.
Rollerblade Racer: Glitched status bar.
Wizards and Warriors 3: Bad scanlines at middle of screen. Sprite flickering.
Arkanoid: Extra sprite.
Tatakai no Banka: Flickering sprites.
instr_timing: Infinite BRKs starting at V:14  H:142 Fr:889 Cycle:26476503
Fire Emblem Gaiden: Blank screen.
Kaiketsu Yanchamaru 2: PRG bank switching bug leads to JAM.
Mission Impossible 2: JAMs. Need to mirror CHR ROM due to it being too short?
mmc5test: black screen.

IMPROVEMENTS TO PRG/CHR LAYOUTS
Validate up front all windows as bank size multiples.
Automatically add registers from every layout? Maybe not since certain layouts won't be used by certain boards.

FAILING TESTS
apu_test jitter

---------------------GAMES------------------------------------
MAPPER 0
Cheetah Men II [b1] (Doesn't work on nestopia either. Wrong tiles are rendered during some intro screens, probably due to the game relying on certain RAM values being present at startup)

MAPPER 1
A Ressha de Ikou (https://www.nesdev.org/wiki/MMC1#SZROM)

MAPPER 3
Athletic World (Freezes on nestopia too. Freezes at the beginning of the Hurdles event)

MAPPER 4
Crystalis - Junk on scanline above status bar.

MAPPER 7
Aladdin - Corrupted sprites, gets stuck in a loop writing to PPUDATA, JAMs.
Battletoads - Every other frame rendered with wrong pattern table (due to even/odd frame timing test failing?). Flickering from somehow reading X and Y offset at the wrong time?

MAPPER 66
Dragon Ball - Goku can't move to spots he should be able to.


MAPPER 71
Fantastic Adventures of Dizzy - Status bar jumps a scanline or two, some sprites flicker. Sprites over the character intros.
Fire Hawk: Can't move helicopter. Broken name table display. Need better DMC implementation.
Micro Machines: Junk scanlines through the middle. See wiki.

MAPPER 152
Arkanoid 2: Top of opening screen zeroed out. Bus conflicts need to be emulated?
Ge ge ge no Kitarou 2: Game freezes. Bus conflicts need to be emulated?


Total games implemented:
0: 247
1: 680
2: 270
3: 155
4: 599
7: 75
9: 11
10: 3
11: 34
32: 6
33: 9
34: 5
64: 5
66: 17
70: 2
71: 16
87: 10
101: 0
140: 3
152: 4
232: 5

2181/2447

To implement:
5:  25
